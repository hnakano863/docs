<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>時系列分析 on Learn Docs</title>
    <link>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/</link>
    <description>Recent content in 時系列分析 on Learn Docs</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    
	<atom:link href="http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Python による状態空間モデルの実装法</title>
      <link>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/state-space-python/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/state-space-python/</guid>
      <description>Python で線形ガウス状態空間モデルを実現するには、統計分析向けライブラリの statsmodels  を用いるとよい。
statsmodels での線形ガウス状態空間モデルの式 statsmodels での線形ガウス状態空間モデルの式は、前の記事で導入した式と若干異なるので、注意が必要。実際に statsmodels で採用されている形式での線形ガウス状態空間モデルの式を示す。
\[ \begin{align} y_t &amp;amp;= Z_t \alpha_t + d_t + \varepsilon_t, &amp;amp; \varepsilon_t \sim \mathcal{N}(0, H_t) \\
\alpha_{t+1} &amp;amp;= T_t \alpha_t + c_t + R_t \eta_t, &amp;amp; \eta_t \sim \mathcal{N}(0, Q_t) \\
\end{align} \]
第 1 式の、\(y_t\) についての式が観測方程式である。
いくつかのベクトルについては、 statsmodels 固有の名前が与えられている。
   記号 名称 説明     \(Z_t\) design    \(d_t\) obs_intercept    \(H_t\) obs_cov 観測誤差の共分散   \(T_t\) transition    \(c_t\) state_intercept    \(R_t\) selection    \(Q_t\) state_cov 過程誤差の共分散    ローカル線形トレンドモデルの実装 ローカル線形トレンドモデルの式を下記に再掲する。</description>
    </item>
    
    <item>
      <title>時系列データの前処理</title>
      <link>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/preprocessing/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/preprocessing/</guid>
      <description>本稿では、時系列データの分析を容易にするために、基礎的なデータ変換方法について述べる。
時系列データへの変換 時系列データは、一定の時間間隔で取得されたデータのことだった。
そのため、日時や時刻を表す列があると分析の都合が良い。
基本的には、以下の流れで取得データを周期一定の時系列データに直す。
 日付を表す列データを日付型にキャストする 直した列をインデックスにする 日付インデックスのサンプリング周期が一定になるように、データをリサンプルする  例示用のデータとして、 RDatasets の LakeHuron を用いる。
このデータは、アメリカの五大湖のひとつであるヒューロン湖の、 1875 年から 1972 年までの水位を記録したものである。
import pandas as pd import statsmodels.api as sm # データのダウンロード lake_data = sm.datasets.get_rdataset(&amp;#39;LakeHuron&amp;#39;, &amp;#39;datasets&amp;#39;).data # 変換前のデータの頭 5 行を閲覧 print(&amp;#34; Before Transformation &amp;#34;.center(80, &amp;#39;=&amp;#39;)) print(lake_data.head()) # `time`列に年データが入っている time_idx = lake_data[&amp;#39;time&amp;#39;] # 1. 日付を表す列データを日付型に直す # `time`列は数値型なので、数値-&amp;gt;整数-&amp;gt;日付の順番でキャストする time_idx = pd.to_datetime(time_idx.astype(int), format=&amp;#39;%Y&amp;#39;) # 2. 直した列をインデックスにする # インデックスにセットし、不要な列をドロップ lake_data = lake_data.set_index(time_idx).drop(&amp;#39;time&amp;#39;, axis=1) # 3. 日付インデックスのサンプリング周期が一定になるように、データをリサンプルする lake_data = lake_data.</description>
    </item>
    
    <item>
      <title>状態空間モデル</title>
      <link>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/state-space-model/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://hanakno863.github.io/learn-docs/docs/%E6%99%82%E7%B3%BB%E5%88%97%E5%88%86%E6%9E%90/state-space-model/</guid>
      <description>状態空間モデルの構成 状態空間モデルとは、直接観測されない「状態」の存在を仮定したモデルである。
基本的なワークフローは、
 方程式によるデータの表現 統計手法を用いた状態/パラメタの推定  の 2 部に分かれる。
方程式によるデータ表現 状態空間モデルでは、目に見えない状態変化と状態から得られる観測結果を 2 つの異なる方程式に分けて表現する。
 目に見えない状態の変化 : 状態方程式 状態から得られる観測結果 : 観測方程式  状態方程式 状態変化のプロセスを記述する方程式のことを状態方程式という。
状態方程式の概念式は、
{状態} = {前時点の状態を用いた予測値} + {過程誤差}
で表される。
観測方程式 状態から観測値を得るプロセスを記述する方程式を観測方程式という。
観測方程式の概念式は、
{観測値} = {状態} + {観測誤差}
で表される。
線形ガウス状態空間モデル 一次方程式でモデルが表現可能で、なおかつ誤差が正規分布に従うモデルのことを、線形ガウス状態空間モデルという。
状態空間モデルそのものはかなり幅広い概念だが、時系列データ分析の初歩では、大抵の状態空間モデルは線形ガウス状態空間モデルを仮定している。
線形ガウス状態空間モデルの場合は、状態の推定とモデルのパラメタの推定を分けて行うことができる。
 状態の推定: カルマンフィルタを使う。 モデルのパラメタの推定: 最尤法を使う。  この方法は、計算コストや実装コストが低く、ストリーム処理が可能で、オンライン予測に適している。
以下では、線形ガウス状態空間モデルの概略を述べる。
状態方程式と観測方程式 状態方程式 時点 \(t\) での状態を、\(\bm{\mu}_t\) とおく。ただし、 \(\bm{\mu}_t\) は \(D\) 次元ベクトルとする。
このとき、線形ガウス状態空間モデルにおける状態方程式は、
\[\begin{align} \bm{\mu}_t &amp;amp;= T_t\bm{\mu}_{t-1} + R_t\bm{\eta}_t, &amp;amp; \bm{\eta}_t \sim \mathcal{N}(0, Q_t) \end{align}\]</description>
    </item>
    
  </channel>
</rss>